<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Đấu Trường Toán 9 - Bài 1</title>

<script src="https://cdn.tailwindcss.com"></script>

<script>
window.MathJax = {
tex: {
inlineMath: [['$', '$'], ['\\(', '\\)']],
displayMath: [['$$', '$$']]
}
};
</script>

<script async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

<style>

body{
font-family: Arial;
background: linear-gradient(135deg,#e0f2fe,#f0f9ff);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
}

.card{
background:white;
padding:30px;
border-radius:15px;
max-width:600px;
width:100%;
box-shadow:0 5px 20px rgba(0,0,0,0.1);
}

button{
background:#2563eb;
color:white;
padding:12px;
border-radius:10px;
width:100%;
margin-top:10px;
}

input{
width:100%;
padding:10px;
border-radius:8px;
border:1px solid #ccc;
margin-top:5px;
margin-bottom:10px;
}

.option{
border:1px solid #ccc;
padding:10px;
margin-top:8px;
border-radius:8px;
cursor:pointer;
}

.option:hover{
background:#eff6ff;
}

.correct{
background:#bbf7d0;
}

.wrong{
background:#fecaca;
}

</style>

</head>

<body>

<div class="card" id="app"></div>

<script>

let app = document.getElementById("app"); // ✅ THÊM DÒNG NÀY (QUAN TRỌNG)

let state={
screen:"start",
name:"",
class:"",
question:0,
score:0
};

let questions=[

{
q:"Phương trình nào là phương trình bậc hai?",
options:[
"x+1=0",
"x²−5x+6=0",
"x³−2=0",
"3x−1=0"
],
correct:1
},

{
q:"Nghiệm của x²=9 là:",
options:[
"x=3",
"x=-3",
"x=±3",
"x=9"
],
correct:2
}

];

function render(){

if(state.screen==="start"){

app.innerHTML=`

<h2 style="text-align:center;font-size:28px;margin-bottom:20px">
Đấu Trường Toán 9
</h2>

<label>Họ và tên</label>
<input id="name">

<label>Lớp</label>
<input id="class">

<button onclick="startQuiz()">
Bắt đầu
</button>

`;

}

if(state.screen==="quiz"){

let q=questions[state.question];

app.innerHTML=`

<h3>Câu ${state.question+1}</h3>

<p>${q.q}</p>

${q.options.map((opt,i)=>
`<div class="option" onclick="check(${i})">
${opt}
</div>`
).join("")}

`;

MathJax.typeset();

}

if(state.screen==="result"){

app.innerHTML=`

<h2>Kết quả</h2>

<p>${state.name} - ${state.class}</p>

<h1>${state.score}/${questions.length}</h1>

<button onclick="restart()">
Làm lại
</button>

`;

}

}

function startQuiz(){

state.name=document.getElementById("name").value;

state.class=document.getElementById("class").value;

if(state.name==""||state.class==""){
alert("Nhập đủ thông tin");
return;
}

state.screen="quiz";

render();

}

function check(i){

if(i==questions[state.question].correct)
state.score++;

state.question++;

if(state.question>=questions.length){

state.screen="result";

}else{

state.screen="quiz";

}

render();

}

function restart(){

state={
screen:"start",
name:"",
class:"",
question:0,
score:0
};

render();

}

render();

</script>

</body>
</html>
